// Generated by CoffeeScript 1.4.0
(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);i.prototype=n.prototype;t.prototype=new i;t.__super__=n.prototype;return t},n=function(e,t){return function(){return e.apply(t,arguments)}};window.AssetItemView='<li>\n	<img src="<%= asset.full_path %>" width="200" height="200"/>\n	<a href="#" class="destroyed">x</a>\n\n</li>';window.Asset=function(e){function n(){n.__super__.constructor.apply(this,arguments)}t(n,e);n.configure("Asset","path","full_path");n.extend(Spine.Model.Ajax);n.url="http://uploader.dev/assets";return n}(Spine.Model);window.AssetItem=function(e){function r(){this.remove=n(this.remove,this);this.render=n(this.render,this);r.__super__.constructor.apply(this,arguments);this.item.bind("update",this.render);this.item.bind("destroy",this.release)}t(r,e);r.prototype.events={"click .destroyed":"remove"};r.prototype.template=function(e){return _.template(window.AssetItemView,{asset:e})};r.prototype.render=function(){this.replace(this.template(this.item));return this};r.prototype.remove=function(e){e.preventDefault();return this.item.destroy()};return r}(Spine.Controller);window.Asset=function(e){function n(){n.__super__.constructor.apply(this,arguments)}t(n,e);n.configure("Asset","path","full_path");n.extend(Spine.Model.Ajax);n.url="http://uploader.dev/assets";return n}(Spine.Model);window.Assets=function(e){function r(){this.add_single_asset=n(this.add_single_asset,this);this.add_all_assets=n(this.add_all_assets,this);r.__super__.constructor.apply(this,arguments);Asset.bind("create",this.add_all_assets);Asset.bind("refresh",this.add_all_assets);Asset.bind("update",this.add_all_assets);this.add_all_assets()}t(r,e);r.prototype.elements={"#asset_list":"asset_list"};r.prototype.add_all_assets=function(){this.asset_list.html("");return Asset.each(this.add_single_asset)};r.prototype.add_single_asset=function(e){var t;t=new AssetItem({item:e});return this.asset_list.append(t.render().el)};return r}(Spine.Controller)}).call(this);